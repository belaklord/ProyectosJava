package arayyjava;
import accesoDatos.Datos;
import java.util.Scanner;

import arayyjava.SesionUsuario;
import arayyjava.Usuario;
public class Principal {

	// vectores que almacenan hasta 10 usuarios y 10 sesiones de usuario  ( movidos a la clase Datos esto produce errores que
	// hay que resolver)//

	

	public static void main (String []args){

		int posicion = 0;
		Scanner S = new Scanner (System.in);

		// cinco susuarios manuales dentro del array ocupando los cinco primero espacios de dicho array //


		Datos.datosUsuarios[posicion] = new Usuario();
		Datos.datosUsuarios[posicion].nif = "48567453-m" + posicion;
		Datos.datosUsuarios[posicion].nombre = "Antonio" + posicion;
		Datos.datosUsuarios[posicion].apellidos = "gallego" + posicion;
		Datos.datosUsuarios[posicion].correoE = "antonio@gmail.con" + posicion;
		Datos.datosUsuarios[posicion].domicilio ="c/ capuchinos n23 3f" + posicion;
		Datos.datosUsuarios[posicion].fechaNacimiento = "23/11/1987" + posicion;
		Datos.datosUsuarios[posicion].fechaAlta = "22/11/2000" + posicion;
		Datos.datosUsuarios[posicion].claveAcceso = "tierrasanta" + posicion;
		Datos.datosUsuarios[posicion].rol= "root" + posicion;
		/*
		System.out.println(datosUsuarios[posicion].nif);
		System.out.println(datosUsuarios[posicion].nombre);
		System.out.println(datosUsuarios[posicion].apellidos);
		System.out.println(datosUsuarios[posicion].correoE);
		System.out.println(datosUsuarios[posicion].domicilio);
		System.out.println(datosUsuarios[posicion].fechaNacimiento);
		System.out.println(datosUsuarios[posicion].fechaAlta);
		System.out.println(datosUsuarios[posicion].claveAcceso);
		System.out.println(datosUsuarios[posicion].rol);

		 */
		posicion ++;

		Datos.datosUsuarios[posicion] = new Usuario();
		Datos.datosUsuarios[posicion].nif = "48567453-m" + posicion;
		Datos.datosUsuarios[posicion].nombre = "Antonio" + posicion;
		Datos.datosUsuarios[posicion].apellidos = "gallego" + posicion;
		Datos.datosUsuarios[posicion].correoE = "antonio@gmail.con" + posicion;
		Datos.datosUsuarios[posicion].domicilio ="c/ capuchinos n23 3f" + posicion;
		Datos.datosUsuarios[posicion].fechaNacimiento = "23/11/1987" + posicion;
		Datos.datosUsuarios[posicion].fechaAlta = "22/11/2000" + posicion;
		Datos.datosUsuarios[posicion].claveAcceso = "tierrasanta" + posicion;
		Datos.datosUsuarios[posicion].rol= "root" + posicion;
		/*
		System.out.println(datosUsuarios[posicion].nif);
		System.out.println(datosUsuarios[posicion].nombre);
		System.out.println(datosUsuarios[posicion].apellidos);
		System.out.println(datosUsuarios[posicion].correoE);
		System.out.println(datosUsuarios[posicion].domicilio);
		System.out.println(datosUsuarios[posicion].fechaNacimiento);
		System.out.println(datosUsuarios[posicion].fechaAlta);
		System.out.println(datosUsuarios[posicion].claveAcceso);
		System.out.println(datosUsuarios[posicion].rol);

		 */

		posicion ++;

		Datos.datosUsuarios[posicion] = new Usuario();
		Datos.datosUsuarios[posicion].nif = "48567453-m" + posicion;
		Datos.datosUsuarios[posicion].nombre = "Antonio" + posicion;
		Datos.datosUsuarios[posicion].apellidos = "gallego" + posicion;
		Datos.datosUsuarios[posicion].correoE = "antonio@gmail.con" + posicion;
		Datos.datosUsuarios[posicion].domicilio ="c/ capuchinos n23 3f" + posicion;
		Datos.datosUsuarios[posicion].fechaNacimiento = "23/11/1987" + posicion;
		Datos.datosUsuarios[posicion].fechaAlta = "22/11/2000" + posicion;
		Datos.datosUsuarios[posicion].claveAcceso = "tierrasanta" + posicion;
		Datos.datosUsuarios[posicion].rol= "root" + posicion;

		/*
		System.out.println(datosUsuarios[posicion].nif);
		System.out.println(datosUsuarios[posicion].nombre);
		System.out.println(datosUsuarios[posicion].apellidos);
		System.out.println(datosUsuarios[posicion].correoE);
		System.out.println(datosUsuarios[posicion].domicilio);
		System.out.println(datosUsuarios[posicion].fechaNacimiento);
		System.out.println(datosUsuarios[posicion].fechaAlta);
		System.out.println(datosUsuarios[posicion].claveAcceso);
		System.out.println(datosUsuarios[posicion].rol);
		 */
		posicion ++;

		Datos.datosUsuarios[posicion] = new Usuario();
		Datos.datosUsuarios[posicion].nif = "48567453-m" + posicion;
		Datos.datosUsuarios[posicion].nombre = "Antonio" + posicion;
		Datos.datosUsuarios[posicion].apellidos = "gallego" + posicion;
		Datos.datosUsuarios[posicion].correoE = "antonio@gmail.con" + posicion;
		Datos.datosUsuarios[posicion].domicilio ="c/ capuchinos n23 3f" + posicion;
		Datos.datosUsuarios[posicion].fechaNacimiento = "23/11/1987" + posicion;
		Datos.datosUsuarios[posicion].fechaAlta = "22/11/2000" + posicion;
		Datos.datosUsuarios[posicion].claveAcceso = "tierrasanta" + posicion;
		Datos.datosUsuarios[posicion].rol= "root" + posicion;
		/*
		System.out.println(datosUsuarios[posicion].nif);
		System.out.println(datosUsuarios[posicion].nombre);
		System.out.println(datosUsuarios[posicion].apellidos);
		System.out.println(datosUsuarios[posicion].correoE);
		System.out.println(datosUsuarios[posicion].domicilio);
		System.out.println(datosUsuarios[posicion].fechaNacimiento);
		System.out.println(datosUsuarios[posicion].fechaAlta);
		System.out.println(datosUsuarios[posicion].claveAcceso);
		System.out.println(datosUsuarios[posicion].rol);
		 */
		posicion ++;


		Datos.datosUsuarios[posicion] = new Usuario();
		Datos.datosUsuarios[posicion].nif = "48567453-m" + posicion;
		Datos.datosUsuarios[posicion].nombre = "Antonia" + posicion;
		Datos.datosUsuarios[posicion].apellidos = "gallego" + posicion;
		Datos.datosUsuarios[posicion].correoE = "antonio@gmail.con" + posicion;
		Datos.datosUsuarios[posicion].domicilio ="c/ capuchinos n23 3f" + posicion;
		Datos.datosUsuarios[posicion].fechaNacimiento = "23/11/1987" + posicion;
		Datos.datosUsuarios[posicion].fechaAlta = "22/11/2000" + posicion;
		Datos.datosUsuarios[posicion].claveAcceso = "tierrasanta" + posicion;
		Datos.datosUsuarios[posicion].rol= "root" + posicion;


		/*

		System.out.println(datosUsuarios[posicion].nif);
		System.out.println(datosUsuarios[posicion].nombre);
		System.out.println(datosUsuarios[posicion].apellidos);
		System.out.println(datosUsuarios[posicion].correoE);
		System.out.println(datosUsuarios[posicion].domicilio);
		System.out.println(datosUsuarios[posicion].fechaNacimiento);
		System.out.println(datosUsuarios[posicion].fechaAlta);
		System.out.println(datosUsuarios[posicion].claveAcceso);
		System.out.println(datosUsuarios[posicion].rol);
		 */
		posicion ++;

		// cinco ultimos ususarios del array automáticos con un bucle for //

		for (int i = 5; i<Datos.datosUsuarios.length; i++){

			Datos.datosUsuarios[i] = new Usuario();
			Datos.datosUsuarios[i].nif = "48567453-m" + posicion;
			Datos.datosUsuarios[i].nombre = "Antonio" + posicion;
			Datos.datosUsuarios[i].apellidos = "gallego" + posicion;
			Datos.datosUsuarios[i].correoE = "antonio@gmail.con" + posicion;
			Datos.datosUsuarios[i].domicilio ="c/ capuchinos n23 3f" + posicion;
			Datos.datosUsuarios[i].fechaNacimiento = "23/11/1987" + posicion;
			Datos.datosUsuarios[i].fechaAlta = "22/11/2000" + posicion;
			Datos.datosUsuarios[i].claveAcceso = "tierrasanta" + posicion;
			Datos.datosUsuarios[i].rol= "root" + posicion;



			// aqui tenemos cinco usuarios automaticos con un bucle //

			// System.out.println(datosUsuarios[i].nif);	
		/*	
		System.out.println(datosUsuarios[i].nif);
		System.out.println(datosUsuarios[i].nombre);
		System.out.println(datosUsuarios[i].apellidos);
		System.out.println(datosUsuarios[i].correoE);
		System.out.println(datosUsuarios[i].domicilio);
		System.out.println(datosUsuarios[i].fechaNacimiento);
		System.out.println(datosUsuarios[i].fechaAlta);
		System.out.println(datosUsuarios[i].claveAcceso);
		System.out.println(datosUsuarios[i].rol);
		System.out.println("    ");
		System.out.println("    ");
		System.out.println("    ");
			 
			posicion ++;
*/

		}								
		// CREACION DEL INICIO DE SESION //
		// Hecho //


		int intento =0;
		boolean a = true;



		do{


			String usuario, contraseña;

			System.out.println("introduce el nombre se susuario");

			usuario = S. nextLine();

			int error =0;
			int	contador = 0;
			for (int i = 0; i<Datos.datosUsuarios.length; i++){										// recorremos elvector datosUsuarios antero //


				if (Datos.datosUsuarios[i].nombre.equalsIgnoreCase(usuario) ){


					System.out.println("introduce la contraeña");



					contraseña = S. next();



					if (contraseña.equalsIgnoreCase(Datos.datosUsuarios[contador].claveAcceso)){			// ponemos un contador para referirnos a la misma posicion del usuario introducido //
						// de esta forma solo valdrá su contraseña ///
						SesionUsuario Sesion1 = new SesionUsuario();
						Sesion1.usr = Datos.datosUsuarios[i];
						Sesion1.fecha = "23.11.2010";
						a = true;


					}

					else{

						System.out.println("contraseña incorrecta");
						intento++;
						a = false;


					}


				}
				else{

					error++;

				}

				if (error == 10){

					System.out.println("usuario incorrecto");
					a = false;
					intento++;

				}

				contador ++;

			}




		}while( a == false && intento <4);


		String y;

		if (intento==4){


			System.out.println("sesion bloqueada, numero máximo de intentos fallidos");
		}
		else {
			System.out.println("pulsa (y) para confirmar el inicio de sesion");


			y = S. next();

			if (y.equalsIgnoreCase("y")){

				System.out.println("BIENVENIDO! MOTHERFUKER");
			}

			else {

				System.out.println("confirmacion erronea, inicio de sesion cancelado");
			}
		}




		
		
	//	SesionUsuario sesion1 = new SesionUsuario ();
		
		//	sesion1.usr = usr4;
		
		//	sesion1.fecha = "23.11.2010";
		
		//	System.out.println(sesion1.usr);


	}
}
